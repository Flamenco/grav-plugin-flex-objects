title: Grav Pages
description: Manage your Grav Pages in Flex.
type: flex-objects

extends@:
  type: default
  context: blueprints://pages

config:
  admin:
    list:
      fields:
        published:
          width: 8
          alias: header.published
        visible:
          width: 8
          field:
            label: Visible
            type: toggle
        menu:
          link: edit
          alias: header.menu
        full_route:
          field:
            label: Route
            type: text
          link: edit
          sort:
            field: key
        name:
          field:
            label: Type
            type: text
#        updated_date:
#          field:
#            type: datetime
#            label: Last Updated


      options:
        per_page: 20
        order:
          by: key
          dir: asc

      # TODO: not used yet
      buttons:
        back:
          icon: reply
          title: PLUGIN_ADMIN.BACK
        add:
          icon: plus
          label: PLUGIN_ADMIN.ADD

    menu:
      list:
        hidden: false
        route: /grav-pages
        title: PLUGIN_ADMIN.PAGES
        icon: fa-file-text-o
        authorize: ['admin.pages', 'admin.super']
        priority: 5

    edit:
      # TODO: not used yet
      buttons:
        back:
          icon: reply
          title: PLUGIN_ADMIN.BACK
        preview:
          icon: eye
          title: PLUGIN_ADMIN.PREVIEW
        add:
          icon: plus
          label: PLUGIN_ADMIN.ADD
        copy:
          icon: copy
          label: PLUGIN_ADMIN.COPY
        move:
          icon: arrows
          label: PLUGIN_ADMIN.MOVE
        delete:
          icon: close
          label: PLUGIN_ADMIN.DELETE
        save:
          icon: check
          label: PLUGIN_ADMIN.SAVE

  site:
    filter:
      - withPublished

  data:
    object: 'Grav\Plugin\FlexObjects\Types\GravPages\GravPageObject'
    collection: 'Grav\Plugin\FlexObjects\Types\GravPages\GravPageCollection'
    index: 'Grav\Plugin\FlexObjects\Types\GravPages\GravPageIndex'
    storage:
      class: 'Grav\Plugin\FlexObjects\Types\GravPages\GravPageStorage'
      options:
        formatter:
          class: 'Grav\Framework\File\Formatter\MarkdownFormatter'
        folder: 'page://'
    ordering:
      key: ASC
    search:
      options:
        contains: 1
      fields:
        - key
        - menu
        - title
        - name