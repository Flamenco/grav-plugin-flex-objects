{# flex-objects/views/object.html.twig #}

{% set flex = grav.get('flex_objects') %}
{% set directory = flex.directory(type) %}
{% set object = directory.getObject(id) %}

{% if object %}
    {% set layout = options.layout ?? 'default' %}
    {% set context = options ?? {} %}

    {% render object layout: layout with context %}

{% else %}
    {% include 'flex-objects/views/404.html.twig' %}
{% endif %}
